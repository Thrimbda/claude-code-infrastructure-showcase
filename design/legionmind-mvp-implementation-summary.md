# LegionMind MVP å®æ–½æ€»ç»“

**å®æ–½æ—¥æœŸ**: 2025-12-12
**çŠ¶æ€**: âœ… MVP å®Œæˆ

---

## æ¦‚è¿°

LegionMind MVP æ˜¯ä¸€ä¸ªè·¨ä¼šè¯ä¸Šä¸‹æ–‡ç®¡ç†ç³»ç»Ÿï¼Œå¸®åŠ©åœ¨ä¼šè¯é‡ç½®æˆ– Agent åˆ‡æ¢æ—¶ä¿æŒå·¥ä½œçŠ¶æ€ã€‚

### æ ¸å¿ƒä»·å€¼

- **æ¶ˆé™¤é‡å¤å·¥ä½œ** - æ–°ä¼šè¯ç§’é€Ÿæ¢å¤ä¸Šä¸‹æ–‡
- **äººç±»å¯è¯»** - æ‰€æœ‰è®°å½•ä½¿ç”¨ Markdownï¼Œäººæœºå…±äº«
- **ç»“æ„åŒ–è¿½è¸ª** - ä»»åŠ¡ã€å†³ç­–ã€è¿›å±•ä¸€ç›®äº†ç„¶

---

## å·²å®æ–½ç»„ä»¶

### 1. Skill æ–‡ä»¶ âœ…

**ä½ç½®**: `.claude/skills/legionmind/`

| æ–‡ä»¶ | ç”¨é€” | è¡Œæ•° |
|------|------|------|
| `SKILL.md` | ä¸»æŠ€èƒ½æ–‡ä»¶ï¼Œä½¿ç”¨æŒ‡å— | ~280 |
| `SCHEMA.md` | ä¸‰æ–‡ä»¶è¯¦ç»† Schema å®šä¹‰ | ~450 |
| `EXAMPLES.md` | å®Œæ•´ç¤ºä¾‹ | ~300 |
| `MCP_TOOLS.md` | MCP å·¥å…·æ¥å£æ–‡æ¡£ | ~350 |

**æ¿€æ´»è§„åˆ™**: å·²æ·»åŠ åˆ° `.claude/skills/skill-rules.json`

**è§¦å‘æ¡ä»¶**:
- å…³é”®è¯: legion, legionmind, .legion, è·¨ä¼šè¯, ä¸Šä¸‹æ–‡ç®¡ç†, etc.
- æ„å›¾æ¨¡å¼: å¼€å§‹å¤æ‚ä»»åŠ¡ã€æ¢å¤å·¥ä½œã€ä»»åŠ¡äº¤æ¥ç­‰
- æ–‡ä»¶è·¯å¾„: `.legion/**/*`

---

### 2. MCP Server âœ…

**ä½ç½®**: `.claude/mcp-servers/legionmind-mcp/`

**å®ç°çš„å·¥å…·** (10ä¸ª):

#### åˆå§‹åŒ–å·¥å…·
- `legion_init` - åˆå§‹åŒ– .legion ç›®å½•
- `legion_create_task` - åˆ›å»ºæ–°ä»»åŠ¡ï¼ˆç”Ÿæˆä¸‰æ–‡ä»¶ï¼‰

#### æŸ¥è¯¢å·¥å…·
- `legion_get_status` - è·å–å½“å‰çŠ¶æ€æ‘˜è¦
- `legion_list_tasks` - åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡
- `legion_read_context` - è¯»å–å®Œæ•´ä¸Šä¸‹æ–‡

#### æ›´æ–°å·¥å…·
- `legion_update_plan` - æ›´æ–° plan.md
- `legion_update_context` - æ›´æ–° context.md
- `legion_update_tasks` - æ›´æ–° tasks.md

#### ä»»åŠ¡ç®¡ç†å·¥å…·
- `legion_switch_task` - åˆ‡æ¢æ´»è·ƒä»»åŠ¡
- `legion_archive_task` - å½’æ¡£å·²å®Œæˆä»»åŠ¡

**é…ç½®**:
- å·²åœ¨ `.claude/mcp.json` ä¸­é…ç½®
- å·²åœ¨ `.claude/settings.json` ä¸­å¯ç”¨ï¼ˆé€šè¿‡ `enableAllProjectMcpServers`ï¼‰

**ä¾èµ–**: å·²å®‰è£…ï¼ˆ@modelcontextprotocol/sdk, slugify, etc.ï¼‰

---

### 3. Hook æé†’ âœ…

**ä½ç½®**: `.claude/hooks/legion-reminder.sh`

**ç±»å‹**: UserPromptSubmit Hook

**è¡Œä¸º**:
- æ£€æµ‹åˆ° `.legion/` ç›®å½•å­˜åœ¨
- ç”¨æˆ·è¾“å…¥åŒ…å«ç»“æŸä¿¡å·ï¼ˆdone, finish, ç»“æŸ, å®Œæˆç­‰ï¼‰
- æ˜¾ç¤ºæé†’ï¼šæ›´æ–° tasks.mdã€context.mdã€è®°å½•é˜»å¡é¡¹

**é…ç½®**: å·²æ·»åŠ åˆ° `.claude/settings.json` çš„ `UserPromptSubmit` hooks

---

## ç›®å½•ç»“æ„

å®æ–½åçš„å®Œæ•´ç»“æ„ï¼š

```
.claude/
â”œâ”€â”€ skills/
â”‚   â””â”€â”€ legionmind/
â”‚       â”œâ”€â”€ SKILL.md           # ä¸»æŠ€èƒ½æ–‡ä»¶
â”‚       â”œâ”€â”€ SCHEMA.md          # Schema å®šä¹‰
â”‚       â”œâ”€â”€ EXAMPLES.md        # å®Œæ•´ç¤ºä¾‹
â”‚       â””â”€â”€ MCP_TOOLS.md       # å·¥å…·æ–‡æ¡£
â”œâ”€â”€ mcp-servers/
â”‚   â””â”€â”€ legionmind-mcp/
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ index.ts       # MCP æœåŠ¡å™¨å…¥å£
â”‚       â”‚   â”œâ”€â”€ service.ts     # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚       â”‚   â”œâ”€â”€ tools.ts       # å·¥å…·å®šä¹‰
â”‚       â”‚   â”œâ”€â”€ types.ts       # TypeScript ç±»å‹
â”‚       â”‚   â””â”€â”€ utils.ts       # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â””â”€â”€ README.md
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ legion-reminder.sh     # æé†’ Hook
â”œâ”€â”€ mcp.json                   # MCP æœåŠ¡å™¨é…ç½®
â””â”€â”€ settings.json              # å·²æ›´æ–°ï¼ˆHook + MCPï¼‰

design/
â”œâ”€â”€ legionmind-mvp-design.md           # è¯¦ç»†è®¾è®¡æ–‡æ¡£
â””â”€â”€ legionmind-mvp-implementation-summary.md  # æœ¬æ–‡ä»¶
```

---

## ä½¿ç”¨æµç¨‹

### 1. åˆå§‹åŒ–ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

```typescript
// åœ¨ä»»æ„ç›®å½•å¼€å§‹å·¥ä½œ
legion_init()
// â†’ åˆ›å»º .legion/ ç›®å½•

legion_create_task({
  name: "å®ç°ç”¨æˆ·è®¤è¯æ¨¡å—",
  goal: "å®ç°åŸºäº JWT çš„ç”¨æˆ·è®¤è¯ç³»ç»Ÿ",
  phases: [...]
})
// â†’ åˆ›å»ºä»»åŠ¡ç›®å½•å’Œä¸‰æ–‡ä»¶
```

### 2. æ¢å¤ä¸Šä¸‹æ–‡ï¼ˆæ–°ä¼šè¯ï¼‰

```typescript
// ä¼šè¯å¼€å§‹æ—¶
legion_get_status()
// â†’ è¾“å‡º: å½“å‰é˜¶æ®µã€å½“å‰ä»»åŠ¡ã€è¿›åº¦

legion_read_context()
// â†’ è¯»å–å®Œæ•´ä¸Šä¸‹æ–‡

// æ ¹æ®"å¿«é€Ÿäº¤æ¥"éƒ¨åˆ†ç»§ç»­å·¥ä½œ
```

### 3. è®°å½•è¿›å±•ï¼ˆå·¥ä½œä¸­ï¼‰

```typescript
// å®Œæˆä»»åŠ¡å
legion_update_tasks({
  completeTask: {
    phase: "æ ¸å¿ƒå®ç°",
    taskDescription: "å®ç° token åˆ·æ–°é€»è¾‘"
  }
})

legion_update_context({
  progress: {
    completed: ["å®ç° token åˆ·æ–°é€»è¾‘"]
  },
  addDecision: {
    decision: "ä½¿ç”¨æ•°æ®åº“äº‹åŠ¡å¤„ç†å¹¶å‘åˆ·æ–°",
    reason: "é˜²æ­¢ç«æ€æ¡ä»¶"
  }
})
```

### 4. ä¿å­˜çŠ¶æ€ï¼ˆä¼šè¯ç»“æŸå‰ï¼‰

```typescript
// Hook ä¼šè‡ªåŠ¨æé†’

legion_update_context({
  handoff: {
    nextSteps: [
      "ç»§ç»­å®ç° RefreshToken æ¨¡å‹",
      "æ·»åŠ é»‘åå•æ£€æŸ¥"
    ],
    notes: [
      "æ³¨æ„å¹¶å‘åˆ·æ–°çš„ç«æ€æ¡ä»¶",
      "è®°å¾—æ›´æ–° tasks.md"
    ]
  }
})
```

---

## è®¾è®¡æ–‡ä»¶ Schema

### plan.md

```markdown
# {ä»»åŠ¡æ˜¾ç¤ºå}

## ç›®æ ‡
ä¸€å¥è¯æè¿°

## è¦ç‚¹
- **å…³é”®è¯**: æè¿°

## èŒƒå›´
- `æ–‡ä»¶è·¯å¾„` - è¯´æ˜

## é˜¶æ®µæ¦‚è§ˆ
1. **é˜¶æ®µå** - æè¿°
```

### context.md

```markdown
# {ä»»åŠ¡å} - ä¸Šä¸‹æ–‡

## ä¼šè¯è¿›å±• (YYYY-MM-DD)
### âœ… å·²å®Œæˆ
### ğŸŸ¡ è¿›è¡Œä¸­
### âš ï¸ é˜»å¡/å¾…å®š

## å…³é”®æ–‡ä»¶
**`path`** [çŠ¶æ€]
- ä½œç”¨ï¼š...

## å…³é”®å†³ç­–
| å†³ç­– | åŸå›  | æ›¿ä»£æ–¹æ¡ˆ | æ—¥æœŸ |

## å¿«é€Ÿäº¤æ¥
**ä¸‹æ¬¡ç»§ç»­ä»è¿™é‡Œå¼€å§‹ï¼š**
1. æ­¥éª¤
```

### tasks.md

```markdown
# {ä»»åŠ¡å} - ä»»åŠ¡æ¸…å•

## å¿«é€Ÿæ¢å¤
**å½“å‰é˜¶æ®µ**: é˜¶æ®µ N - åç§°
**å½“å‰ä»»åŠ¡**: æè¿°
**è¿›åº¦**: X/Y ä»»åŠ¡å®Œæˆ

## é˜¶æ®µ 1: åç§° ğŸŸ¡ IN PROGRESS
- [x] ä»»åŠ¡ | éªŒæ”¶: æ ‡å‡†
- [ ] ä»»åŠ¡ | éªŒæ”¶: æ ‡å‡† â† CURRENT

## å‘ç°çš„æ–°ä»»åŠ¡
- [ ] ä»»åŠ¡ | æ¥æº: è¯´æ˜
```

---

## ä¸ç°æœ‰ç³»ç»Ÿçš„å…³ç³»

### dev/active ç›®å½•

- LegionMind ä½¿ç”¨ `.legion/` ä½œä¸º**å”¯ä¸€æŒä¹…åŒ–æ¥æº**
- è‹¥æ£€æµ‹åˆ° `dev/active/` å­˜åœ¨ï¼Œ`legion_init` ä¼šæç¤ºä½†**ä¸è‡ªåŠ¨è¿ç§»**
- ä¸¤ä¸ªç³»ç»Ÿå¯ä»¥å…±å­˜ï¼Œä½†å»ºè®®æ–°ä»»åŠ¡ä½¿ç”¨ LegionMind

### æŠ€èƒ½ç³»ç»Ÿ

- å·²é›†æˆåˆ°ç°æœ‰çš„ skill-rules.json
- é€šè¿‡ skill-activation-prompt.sh è‡ªåŠ¨æ¿€æ´»
- ä¸å…¶ä»–æŠ€èƒ½ï¼ˆbackend-dev-guidelines, frontend-dev-guidelines ç­‰ï¼‰å…±å­˜

---

## æµ‹è¯•å»ºè®®

### 1. åŸºç¡€æµç¨‹æµ‹è¯•

```bash
# 1. åˆå§‹åŒ–
# è°ƒç”¨ legion_init

# 2. åˆ›å»ºä»»åŠ¡
# è°ƒç”¨ legion_create_task

# 3. æ£€æŸ¥ç”Ÿæˆçš„æ–‡ä»¶
ls -la .legion/tasks/*/
cat .legion/tasks/*/plan.md

# 4. æ›´æ–°è¿›å±•
# è°ƒç”¨ legion_update_tasks, legion_update_context

# 5. æŸ¥çœ‹çŠ¶æ€
# è°ƒç”¨ legion_get_status
```

### 2. Hook æµ‹è¯•

```bash
# æµ‹è¯• legion-reminder Hook
echo '{"prompt":"done"}' | .claude/hooks/legion-reminder.sh
# åº”è¯¥æ˜¾ç¤ºæé†’ä¿¡æ¯
```

### 3. å¤šä»»åŠ¡åˆ‡æ¢æµ‹è¯•

```bash
# åˆ›å»ºç¬¬äºŒä¸ªä»»åŠ¡
# è°ƒç”¨ legion_create_task (ä¼šè‡ªåŠ¨æš‚åœç¬¬ä¸€ä¸ª)

# åˆ‡æ¢å›ç¬¬ä¸€ä¸ªä»»åŠ¡
# è°ƒç”¨ legion_switch_task

# åˆ—å‡ºæ‰€æœ‰ä»»åŠ¡
# è°ƒç”¨ legion_list_tasks
```

---

## å·²çŸ¥é™åˆ¶ï¼ˆMVPï¼‰

1. **æ— è‡ªåŠ¨è¿ç§»** - ä¸æ”¯æŒä» dev/active è‡ªåŠ¨å¯¼å…¥
2. **æ— å†²çªåˆå¹¶** - äººç±»æ‰‹åŠ¨ç¼–è¾‘åï¼ŒMCP å°½åŠ›è§£æä½†ä¸ä¿è¯å®Œç¾
3. **æ— å¤š Agent å¹¶å‘** - MVP æš‚ä¸æ”¯æŒå¤šä¸ª Agent åŒæ—¶å·¥ä½œ
4. **æ— é«˜çº§æŸ¥è¯¢** - å¦‚æŒ‰æ—¥æœŸèŒƒå›´ã€æŒ‰æ ‡ç­¾ç­›é€‰ä»»åŠ¡
5. **æ—  UI ä»ªè¡¨ç›˜** - ä»…é€šè¿‡ CLI/MCP å·¥å…·æ“ä½œ

---

## ä¸‹ä¸€æ­¥ï¼ˆæœªå®æ–½ï¼‰

ä»¥ä¸‹åŠŸèƒ½åœ¨è®¾è®¡æ–‡æ¡£ä¸­æåˆ°ï¼Œä½† MVP æœªå®æ–½ï¼š

1. **ä»»åŠ¡ä¾èµ–å›¾** - å¯è§†åŒ–ä»»åŠ¡ä¾èµ–å…³ç³»
2. **æ™ºèƒ½æ¨è** - æ ¹æ®å†å²å»ºè®®ä¸‹ä¸€æ­¥
3. **å¤šäººåä½œ** - å¤šä¸ªäººç±»/Agent åŒæ—¶å·¥ä½œçš„å†²çªè§£å†³
4. **æ€§èƒ½ä¼˜åŒ–** - å¤§å‹é¡¹ç›®çš„åˆ†ç‰‡å­˜å‚¨å’Œç´¢å¼•
5. **æ’ä»¶ç³»ç»Ÿ** - å…è®¸ç¬¬ä¸‰æ–¹æ‰©å±•

---

## æˆåŠŸæŒ‡æ ‡

å®æ–½åå¯é€šè¿‡ä»¥ä¸‹æŒ‡æ ‡è¡¡é‡æˆåŠŸï¼š

| æŒ‡æ ‡ | ç›®æ ‡ | æµ‹é‡æ–¹å¼ |
|------|------|----------|
| ä¸Šä¸‹æ–‡æ¢å¤æ—¶é—´ | < 30ç§’ | ä»è¯»å– .legion åˆ°ç†è§£ä»»åŠ¡çŠ¶æ€ |
| æ ¼å¼ä¸€è‡´æ€§ | > 95% | è‡ªåŠ¨æ ¡éªŒé€šè¿‡ç‡ |
| äººç±»å¯è¯»æ€§ | 100% | éæŠ€æœ¯äººå‘˜èƒ½ç†è§£æ–‡ä»¶å†…å®¹ |

---

## æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒå®æ–½æ–‡ä»¶

| æ–‡ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `.claude/skills/legionmind/SKILL.md` | âœ… | ä¸»æŠ€èƒ½æ–‡ä»¶ |
| `.claude/skills/legionmind/SCHEMA.md` | âœ… | Schema å®šä¹‰ |
| `.claude/skills/legionmind/EXAMPLES.md` | âœ… | å®Œæ•´ç¤ºä¾‹ |
| `.claude/skills/legionmind/MCP_TOOLS.md` | âœ… | å·¥å…·æ–‡æ¡£ |
| `.claude/mcp-servers/legionmind-mcp/src/index.ts` | âœ… | MCP å…¥å£ |
| `.claude/mcp-servers/legionmind-mcp/src/service.ts` | âœ… | æ ¸å¿ƒé€»è¾‘ |
| `.claude/mcp-servers/legionmind-mcp/src/tools.ts` | âœ… | å·¥å…·å®šä¹‰ |
| `.claude/mcp-servers/legionmind-mcp/src/types.ts` | âœ… | ç±»å‹å®šä¹‰ |
| `.claude/mcp-servers/legionmind-mcp/src/utils.ts` | âœ… | å·¥å…·å‡½æ•° |
| `.claude/hooks/legion-reminder.sh` | âœ… | æé†’ Hook |
| `.claude/mcp.json` | âœ… | MCP é…ç½® |
| `.claude/settings.json` | âœ… | å·²æ›´æ–°é…ç½® |
| `.claude/skills/skill-rules.json` | âœ… | å·²æ·»åŠ æ¿€æ´»è§„åˆ™ |

### è®¾è®¡æ–‡æ¡£

| æ–‡ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| `design/legionmind-mvp-design.md` | âœ… | è¯¦ç»†è®¾è®¡æ–‡æ¡£ (~1200è¡Œ) |
| `design/legionmind-mvp-implementation-summary.md` | âœ… | æœ¬æ–‡ä»¶ |

---

## æ€»ç»“

LegionMind MVP å·²å®Œæ•´å®æ–½ï¼ŒåŒ…æ‹¬ï¼š

- âœ… **4 ä¸ª Skill æ–‡ä»¶** (~1400 è¡Œæ–‡æ¡£)
- âœ… **5 ä¸ª TypeScript æºæ–‡ä»¶** (~1000+ è¡Œä»£ç )
- âœ… **10 ä¸ª MCP å·¥å…·** (å®Œæ•´å®ç°)
- âœ… **1 ä¸ª Hook è„šæœ¬** (æé†’åŠŸèƒ½)
- âœ… **é…ç½®é›†æˆ** (skill-rules, mcp.json, settings.json)

ç³»ç»Ÿå·²å‡†å¤‡å¥½ä½¿ç”¨ï¼Œå¯ä»¥ç«‹å³å¼€å§‹ç”¨äºè·¨ä¼šè¯ä¸Šä¸‹æ–‡ç®¡ç†ã€‚

---

*å®æ–½å®Œæˆæ—¥æœŸ: 2025-12-12*
*æ€»ä»£ç é‡: ~2500 è¡Œ*
*æ–‡æ¡£é‡: ~2000 è¡Œ*
